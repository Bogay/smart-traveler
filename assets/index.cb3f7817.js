var D=Object.defineProperty;var E=Object.getOwnPropertySymbols;var z=Object.prototype.hasOwnProperty,Z=Object.prototype.propertyIsEnumerable;var A=(u,e,t)=>e in u?D(u,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):u[e]=t,S=(u,e)=>{for(var t in e||(e={}))z.call(e,t)&&A(u,t,e[t]);if(E)for(var t of E(e))Z.call(e,t)&&A(u,t,e[t]);return u};import{d as C,r as x,a as q,o as H,c as B,b as g,e as b,w as i,f as r,g as m,u as h,i as F,h as R,j as J,F as Q,t as y,k as w,E as $,l as G,m as W,n as X,p as Y,q as ee,s as te,v as ae,x as ne,y as oe,z as le,A as se,B as re}from"./vendor.d39a805d.js";const ue=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))_(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const p of o.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&_(p)}).observe(document,{childList:!0,subtree:!0});function t(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerpolicy&&(o.referrerPolicy=a.referrerpolicy),a.crossorigin==="use-credentials"?o.credentials="include":a.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function _(a){if(a.ep)return;a.ep=!0;const o=t(a);fetch(a.href,o)}};ue();const ie=w("Smart Traveler"),ce={class:"m-2 flex-row"},de=m("span",{class:"<md:block w-10 align-middle"},"\u5730\u5340",-1),pe={class:"m-2 flex-row"},fe={class:"<md:block w-30 md:ml-3 mr-6 text-left"},me=m("div",{class:"lg:flex-grow <lg:w-full"},null,-1),_e=C({setup(u){x(0);let e=x(0),t=x("");const _=l=>{$.success(l)},a=["South Africa","Sweden","United Kingdom","Japan","Indonesia","Australia","Malaysia","Euro Zone","Canada","Vietnam","USA","Hong Kong","New Zealand","Korea","Philippines","Thailand","Singapore","China","Switzerland"],o={Asia:["Philippines","Korea","Hong Kong","Vietnam","Japan","Indonesia","Thailand","Singapore","China","Malaysia"],Africa:["South Africa"],Europe:["Sweden","United Kingdom","Euro Zone","Switzerland"],"North America":["Canada","USA"],"South America":[],Oceania:["Australia","New Zealand"],Antarctica:[]};let p=q({});async function V(l){const n=new URLSearchParams({country:l}),d=await fetch(`https://smart-traveler.herokuapp.com/?${n.toString()}`);return d.status!=200?(console.log("Query failed"),null):await d.json()}async function k(l){return new Promise(n=>setTimeout(n,l))}H(async()=>{let l=!0;do{const n=await Promise.all(a.map(async c=>[c,await V(c)]));for(const[c,d]of n){if(d===null){l=!1;continue}p[c]=d}await k(5e3)}while(!l);_("Fectch done.")});function I(l){let n=o[t.value];return l.safetyIndex>=e.value&&(t.value===""||(n==null?void 0:n.indexOf(l.country))!==-1)}const O=B(()=>Object.entries(p).map(([l,n])=>S({country:l},n))),T=B(()=>O.value.filter(I));return(l,n)=>{const c=G,d=le,v=W,K=X,L=Y,f=ee,P=te,U=ae,M=ne,j=oe;return g(),b(j,{class:"p-12"},{default:i(()=>[r(c,{style:{"block-size":"fit-content"},class:"md:m-auto lg:m-3 text-left text-5xl <md:text-4xl"},{default:i(()=>[ie]),_:1}),r(M,null,{default:i(()=>[r(U,{class:"lg:mx-12 lg:px-6 px-3"},{default:i(()=>[r(L,{gutter:24},{default:i(()=>[m("div",ce,[de,r(v,{clearable:"",class:"w-55 mx-2",modelValue:h(t),"onUpdate:modelValue":n[0]||(n[0]=s=>F(t)?t.value=s:t=s),placeholder:"\u8ACB\u9078\u64C7\u4F60\u5E0C\u671B\u65C5\u904A\u7684\u5340\u57DF"},{default:i(()=>[(g(!0),R(Q,null,J(Object.keys(o),s=>(g(),b(d,{label:s,value:s},null,8,["label","value"]))),256))]),_:1},8,["modelValue"])]),m("div",pe,[m("span",fe,"\u6CBB\u5B89\u7B49\u7D1A\u5927\u65BC "+y(h(e)),1),r(K,{class:"w-40 inline-flex align-middle",modelValue:h(e),"onUpdate:modelValue":n[1]||(n[1]=s=>F(e)?e.value=s:e=s)},null,8,["modelValue"])]),me]),_:1}),r(P,{data:h(T),style:{width:"100%"}},{default:i(()=>[r(f,{prop:"country",label:"\u570B\u5BB6 / \u5730\u5340"}),r(f,{prop:"liveExchangerates",label:"\u5373\u6642\u532F\u7387"}),r(f,{prop:"avgExchangerates",label:"\u5E73\u5747\u532F\u7387"}),r(f,{label:"\u532F\u7387\u6F32\u8DCC\u5E45"},{default:i(s=>[w(y(s.row.perExchangerate)+" %",1)]),_:1}),r(f,{label:"\u5B89\u5168\u6307\u6578"},{default:i(s=>[w(y(s.row.safetyIndex||"N/A"),1)]),_:1}),r(f,{label:"\u72AF\u7F6A\u6307\u6578"},{default:i(s=>[w(y(s.row.crimeIndex||"N/A"),1)]),_:1})]),_:1},8,["data"])]),_:1})]),_:1})]),_:1})}}});const ge=C({setup(u){return(e,t)=>(g(),b(_e))}});const N=se(ge);N.use(re);N.mount("#app");
